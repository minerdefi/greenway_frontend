const fs = require('fs');
const path = require('path');

// Create the images directory if it doesn't exist
const imagesDir = path.join(__dirname, '..', 'public', 'images');
if (!fs.existsSync(imagesDir)) {
    fs.mkdirSync(imagesDir, { recursive: true });
}

// Create an improved world map SVG with more accurate continent outlines
const worldMapSvg = `<svg width="1000" height="500" xmlns="http://www.w3.org/2000/svg">
    <!-- Background -->
    <rect width="1000" height="500" fill="#f7fafc" />
    
    <!-- Grid lines -->
    <g stroke="#e2e8f0" stroke-width="0.5">
        <!-- Longitude lines -->
        <line x1="100" y1="0" x2="100" y2="500" />
        <line x1="200" y1="0" x2="200" y2="500" />
        <line x1="300" y1="0" x2="300" y2="500" />
        <line x1="400" y1="0" x2="400" y2="500" />
        <line x1="500" y1="0" x2="500" y2="500" />
        <line x1="600" y1="0" x2="600" y2="500" />
        <line x1="700" y1="0" x2="700" y2="500" />
        <line x1="800" y1="0" x2="800" y2="500" />
        <line x1="900" y1="0" x2="900" y2="500" />
        
        <!-- Latitude lines -->
        <line x1="0" y1="100" x2="1000" y2="100" />
        <line x1="0" y1="200" x2="1000" y2="200" />
        <line x1="0" y1="300" x2="1000" y2="300" />
        <line x1="0" y1="400" x2="1000" y2="400" />
    </g>
    
    <!-- Continents - Improved shapes -->
    <g fill="#e2e8f0" stroke="#cbd5e0" stroke-width="1">
        <!-- North America -->
        <path d="M120,80 C150,60 170,70 180,90 C200,80 220,85 230,100 C245,90 260,95 270,120 
                 C290,110 310,130 300,150 C320,145 330,160 325,175 C340,170 350,185 340,200
                 C360,190 370,210 350,225 C370,220 380,240 350,260 C340,275 330,270 320,255
                 C310,280 290,290 270,275 C260,295 240,300 225,285 C210,305 190,310 180,290
                 C170,310 150,315 140,295 C130,300 120,290 125,270 C110,260 105,240 120,230
                 C100,220 90,200 110,190 C95,180 100,165 120,160 C105,140 110,120 130,115
                 C120,100 110,85 120,80 Z" />
                 
        <!-- South America -->
        <path d="M250,260 C270,250 290,260 300,280 C315,270 330,280 335,300 C345,290 360,300 355,320
                 C370,310 385,325 375,345 C380,355 370,380 350,390 C360,400 350,420 330,425
                 C340,440 320,460 300,450 C310,470 290,480 270,465 C280,485 260,490 245,470
                 C255,450 240,435 225,450 C235,430 220,415 200,425 C210,400 200,380 220,370
                 C210,350 220,325 240,330 C235,310 245,285 260,290 C250,270 235,255 250,260 Z" />
                 
        <!-- Europe -->
        <path d="M465,80 C485,70 500,75 510,90 C525,80 545,85 550,105 C570,95 585,105 580,125
                 C600,115 615,125 605,145 C620,135 635,145 625,165 C635,155 650,165 640,185
                 C655,180 660,195 645,210 C635,225 615,230 605,215 C595,230 575,235 565,215
                 C555,225 540,220 535,205 C520,215 505,210 500,195 C485,200 475,190 480,175
                 C465,180 455,165 465,150 C450,155 435,145 445,130 C435,115 450,100 465,110
                 C460,95 445,80 465,80 Z" />
                 
        <!-- Africa -->
        <path d="M465,170 C485,160 505,165 520,180 C535,170 550,180 560,200 C575,190 595,200 600,220
                 C615,210 630,225 630,245 C645,235 660,245 660,265 C675,255 690,270 680,290
                 C670,310 650,320 635,305 C625,320 605,325 590,310 C580,325 560,330 545,315
                 C535,325 520,320 515,305 C495,310 480,300 490,285 C470,290 450,280 460,260
                 C445,265 430,250 440,235 C425,240 410,225 425,210 C415,190 430,175 450,185
                 C445,165 455,150 465,170 Z" />
                 
        <!-- Asia -->
        <path d="M600,80 C625,65 655,70 670,90 C690,75 715,85 725,105 C745,90 770,105 770,125
                 C790,110 810,125 805,150 C820,135 840,150 830,175 C845,160 865,175 850,200
                 C860,185 880,205 865,225 C850,245 830,250 815,230 C800,245 780,240 770,220
                 C755,235 735,230 725,210 C710,225 690,220 680,200 C665,215 640,210 630,190
                 C615,205 595,200 585,180 C570,195 550,190 540,170 C525,185 505,180 500,160
                 C520,150 540,160 560,145 C580,155 600,145 595,125 C580,110 570,90 600,80 Z" />
                 
        <!-- Australia -->
        <path d="M780,280 C800,265 825,275 840,295 C855,280 875,295 880,320 C895,305 915,320 910,345
                 C920,330 935,350 925,375 C910,395 890,400 870,385 C855,400 830,395 815,380
                 C800,395 775,390 765,370 C750,385 725,380 720,355 C705,370 685,355 690,335
                 C675,345 660,325 670,305 C655,315 640,295 655,275 C640,260 655,240 680,250
                 C670,230 685,210 705,225 C700,205 720,195 735,215 C725,190 745,175 765,195
                 C755,175 775,160 790,180 C780,160 800,145 815,165 C805,145 825,135 840,155
                 C830,135 850,120 865,140 C855,120 875,110 890,130 C880,110 900,100 910,120
                 C900,100 920,90 935,110 C925,85 950,80 960,100 C790,320 780,280 780,280 Z" />
    </g>
    
    <!-- Connection routes between hubs -->
    <g stroke="#0A3622" stroke-width="1.5" stroke-dasharray="4,4" opacity="0.5">
        <!-- Major shipping routes -->
        <path d="M180,140 Q300,100 500,120 Q650,140 780,300" fill="none" />
        <path d="M180,140 Q250,200 270,350" fill="none" />
        <path d="M500,120 Q530,180 520,240" fill="none" />
        <path d="M520,240 Q400,300 270,350" fill="none" />
        <path d="M520,240 Q650,280 780,300" fill="none" />
        <path d="M780,300 Q600,350 520,240" fill="none" />
    </g>
    
    <!-- Hub points with glow effect -->
    <g>
        <!-- North America Hub -->
        <circle cx="180" cy="140" r="12" fill="#0A3622" opacity="0.2" />
        <circle cx="180" cy="140" r="8" fill="#0A3622" opacity="0.6" />
        <circle cx="180" cy="140" r="4" fill="#0A3622" />
        
        <!-- South America Hub -->
        <circle cx="270" cy="350" r="12" fill="#0A3622" opacity="0.2" />
        <circle cx="270" cy="350" r="8" fill="#0A3622" opacity="0.6" />
        <circle cx="270" cy="350" r="4" fill="#0A3622" />
        
        <!-- Europe Hub -->
        <circle cx="500" cy="120" r="12" fill="#0A3622" opacity="0.2" />
        <circle cx="500" cy="120" r="8" fill="#0A3622" opacity="0.6" />
        <circle cx="500" cy="120" r="4" fill="#0A3622" />
        
        <!-- Africa Hub -->
        <circle cx="520" cy="240" r="12" fill="#0A3622" opacity="0.2" />
        <circle cx="520" cy="240" r="8" fill="#0A3622" opacity="0.6" />
        <circle cx="520" cy="240" r="4" fill="#0A3622" />
        
        <!-- Asia Hub -->
        <circle cx="700" cy="160" r="12" fill="#0A3622" opacity="0.2" />
        <circle cx="700" cy="160" r="8" fill="#0A3622" opacity="0.6" />
        <circle cx="700" cy="160" r="4" fill="#0A3622" />
        
        <!-- Australia Hub -->
        <circle cx="780" cy="300" r="12" fill="#0A3622" opacity="0.2" />
        <circle cx="780" cy="300" r="8" fill="#0A3622" opacity="0.6" />
        <circle cx="780" cy="300" r="4" fill="#0A3622" />
    </g>
    
    <!-- Equator line -->
    <line x1="0" y1="250" x2="1000" y2="250" stroke="#0A3622" stroke-width="0.5" stroke-dasharray="2,2" opacity="0.3" />
    
    <!-- Label for map -->
    <text x="50" y="30" font-family="Arial, sans-serif" font-size="18" fill="#0A3622">Greenway Global Logistics Network</text>
</svg>`;

// Write the SVG file
fs.writeFileSync(path.join(imagesDir, 'world-map.svg'), worldMapSvg);
fs.writeFileSync(path.join(imagesDir, 'world-map.png'), worldMapSvg);

console.log('Generated improved world map image');
